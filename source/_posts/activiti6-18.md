---
title: Activiti（18） 事务子流程
date: 2020-08-27 13:24:37
tags: Activiti
categories: Activiti
description: Activiti（18） 事务子流程
typora-root-url: ..
password: kiki
---

事务子流程是一种嵌入式子流程，可用于将多个活动组织在一个事务里。事务是工作的逻辑单元，可以组织一组独立活动，使得它们可以一起成功或失败。

**事务的可能结果：**事务有三种不同的结果：

- 若未被取消，或被意外终止，则事务*成功*。若事务子流程成功，将使用出口顺序流离开。若流程后面抛出了补偿事件，成功的事务可以被补偿。*请注意：*与“普通”嵌入式子流程一样，可以使用补偿抛出中间事件，在事务成功完成后补偿。
- 若执行到达取消结束事件时，事务被*取消*。在这种情况下，所有执行都将被终止并移除。只会保留一个执行，设置为取消边界事件，并将触发补偿。在补偿完成后，事务子流程通过取消边界事件的出口顺序流离开。
- 若由于抛出了错误结束事件，且未被事务子流程所在的范围捕获，则事务会被*意外*终止（错误被事件子流程的边界捕获也一样）。在这种情况下，不会进行补偿。